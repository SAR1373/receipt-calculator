<!DOCTYPE html>
<html>
  <head>
    <title>Receipt Calculator</title>
  </head>
  <body>
    <h1>Coming Soon!</h1>
    <form>
      <input type="file" accept="image/*" id="receiptUpload">
      <button type="button" onclick="processReceipt()">Process Receipt</button>
    </form>

    <!-- Result area for extracted text -->
    <div id="result"></div>

    <!-- Script block for processing the file -->
    <script>
      async function processReceipt() {
        const fileInput = document.getElementById('receiptUpload');
        if (!fileInput.files || fileInput.files.length === 0) {
          alert('Please choose an image first.');
          return;
        }

        const file = fileInput.files[0];
        const formData = new FormData();
        formData.append('file', file);
        formData.append('apikey', K83762077688957); // Replace with your real API key
        formData.append('language', 'eng'); // English text
        formData.append('isOverlayRequired', 'false');

        document.getElementById('result').innerText = 'Processing...';

        try {
          const response = await fetch('https://api.ocr.space/parse/image', {
            method: 'POST',
            body: formData
          });

          const json = await response.json();

          if (json.IsErroredOnProcessing) {
            document.getElementById('result').innerText = 'Error: ' + json.ErrorMessage[0];
          } else {
            const text = json.ParsedResults[0].ParsedText;
            document.getElementById('result').innerText = 'Extracted Text:\n' + text;
          }
        } catch (error) {
          document.getElementById('result').innerText = 'Error processing receipt: ' + error;
        }
      }
    </script>
  </body>
</html>
